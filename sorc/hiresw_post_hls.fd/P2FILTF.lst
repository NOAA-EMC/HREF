IBM XL Fortran for AIX, V12.1 (5724-U82) Version 12.01.0000.0001 --- /gpfs/c/nco/ops/nwprod/sorc/hiresw_post_hls.fd/P2FILTF.f 12/22/08 15:46:03
 
>>>>> OPTIONS SECTION <<<<<
***   Options In Effect   ***
  
         ==  On / Off Options  ==
         CR              DBG             ESCAPE          FULLPATH
         I4              INLGLUE         NOLIBESSL       NOLIBPOSIX
         OBJECT          SOURCE          STRICT          SWAPOMP
         THREADED        UNWIND          NOZEROSIZE
  
         ==  Options Of Integer Type ==
         ALIAS_SIZE(65536)     FIXED(72)             MAXMEM(-1)
         OPTIMIZE(2)           SPILLSIZE(2000)       STACKTEMP(0)
  
  
         ==  Options Of Character Type  ==
         64(LARGETYPE)         ALIAS(STD,INTPTR)     ALIGN(BINDC(POWER),STRUCT(NATURAL))
         ARCH(PWR6)            ATTR(FULL)            AUTODBL(NONE)
         DESCRIPTOR(V1)        DIRECTIVE(IBM*,IBMT)  ENUM()
         FLAG(I,I)             FLOAT(RNDSNGL,MAF,FOLD,RNGCHK,SINGLE)
         HALT(S)               IEEE(NEAR)            INTSIZE(4)
         LANGLVL(EXTENDED)     POSITION(APPENDOLD)   REALSIZE(4)
         SAVE(ALL)             TUNE(PWR6)            UNROLL(AUTO)
         XREF(FULL)            XLF2003(NOPOLYMORPHIC,NOBOZLITARGS,NOSTOPEXCEPT,NOVOLATILE,NOAUTOREALLOC,OLDNANINF)
         XLF77(NOLEADZERO,GEDIT77,NOBLANKPAD,OLDBOZ,INTARG,INTXOR,PERSISTENT,SOFTEOF)
         XLF90(NOSIGNEDZERO,NOAUTODEALLOC,OLDPAD)
  
>>>>> SOURCE SECTION <<<<<
          1 |      SUBROUTINE P2FILTF(MKOUNT,HBM2,FIELD)
          2 |CFPP$ NOCONCUR R
          3 |C$$$  SUBPROGRAM DOCUMENTATION BLOCK
          4 |C                .      .    .
          5 |C SUBPROGRAM:    P2FILTF     4-TH ORDER SMOOTHER FOR MASS PTS
          6 |C   PRGRMMR: TREADON         ORG: W/NP2      DATE: 93-03-02
          7 |C
          8 |C ABSTRACT:
          9 |C     THIS ROUTINE WILL APPLY A FOURTH OTHER FILTER (SMOOTHER)
         10 |C     OF A CONTINOUS FIELD AT MASS POINTS ON THE STAGGERED
         11 |C     E-GRID.  MULTIPLE APPLICATIONS OF THIS FILTER MAY BE
         12 |C     MADE.  DOES FULL FIELD.
         13 |C   .
         14 |C
         15 |C PROGRAM HISTORY LOG:
         16 |C   ??-??-??  ??? - SUBROUTINE P2FILT IN ETA MODEL.
         17 |C   93-03-02  RUSS TREADON - ADDED DOCBLOC
         18 |C   98-06-04  BLACK - CONVERSION TO 2-D
         19 |C
         20 |C USAGE:    CALL P2FILT(MKOUNT,HBM2,FIELD)
         21 |C   INPUT ARGUMENT LIST:
         22 |C     MKOUNT   - NUMBER OF APPLICATIONS OF THE SMOOTHER.
         23 |C     HBM2     - MASS POINT BOUNDARY MASK.
         24 |C     FIELD    - MASS POINT FIELD TO BE SMOOTHED.
         25 |C
         26 |C   OUTPUT ARGUMENT LIST:
         27 |C     FIELD    - SMOOTHED MASS POINT FIELD.
         28 |C
         29 |C   OUTPUT FILES:
         30 |C     NONE
         31 |C
         32 |C   SUBPROGRAMS CALLED:
         33 |C     UTILITIES:
         34 |C       NONE
         35 |C     LIBRARY:
         36 |C       NONE
         37 |C
         38 |C   ATTRIBUTES:
         39 |C     LANGUAGE: FORTRAN
         40 |C     MACHINE : CRAY C-90
         41 |C$$$
         42 |C
         43 |C
         44 |C     INCLUDE GLOBAL PARAMETERS.  SET DEPENDENT VARIABLES.
         45 |C
         46 |C-----------------------------------------------------------------------
         47 |      INCLUDE "parmeta"
  1       1 |C-------------------------------------------------------------
  1       2 |C***  SET PRIMARY GRID DIMENSIONS AND PRESSURE OUTPUT LEVELS
  1       3 |      PARAMETER (IM=89,JM=143,LM=60,LSM=39)
  1       4 |C-------------------------------------------------------------
  1       5 |C***  SET THE NUMBER OF PEs IN THE I-DIRECTION AND J-DIRECTION
  1       6 |      PARAMETER(INPES=5,JNPES=6)
  1       7 |C-------------------------------------------------------------
  1       8 |C
  1       9 |      PARAMETER(IGSTL=-5,IGSTR=5)
  1      10 |      PARAMETER(JGSTL=-5,JGSTR=5)
  1      11 |      PARAMETER(ITAIL=IM-(INPES*(IM/INPES)))
  1      12 |      PARAMETER(JTAIL=JM-(JNPES*(JM/JNPES)))
  1      13 |C
  1      14 |      PARAMETER(IDIM1=IGSTL,IDIM2=IM/INPES+IGSTR+1)
  1      15 |      PARAMETER(JDIM1=JGSTL,JDIM2=JM/JNPES+JGSTR+1)
  1      16 |C
  1      17 |C-------------------------------------------------------------
         48 |C-----------------------------------------------------------------------
         49 |      INCLUDE "INDX.comm"
  2       1 |C-----------------------------------------------------------------------
  2       2 |                        C O M M O N /INDX/
  2       3 |     & IHE(JM),IHW(JM),IVE(JM),IVW(JM)
  2       4 |C-----------------------------------------------------------------------
         50 |C-----------------------------------------------------------------------
         51 |                            D I M E N S I O N
         52 |     1 HBM2(IM,JM),FIELD(IM,JM),WFIELD(IM,JM),FNE(IM,JM),FSE(IM,JM)
         53 |C
         54 |C***********************************************************************
         55 |C     START P2FILT HERE.
         56 |C
         57 |C     IF NUMBER OF PASSES IS LESS THAN 1, EXIT ROUTINE.
         58 |C
         59 |      IF(MKOUNT.LT.1)        RETURN
         60 |C
         61 |C     OTHERWISE, APPLY SMOOTHER MKOUNT TIMES.
         62 |C
         63 |      DO 400 KOUNT=1,MKOUNT
         64 |C
         65 |C        FILTERING STARTS
         66 |C
         67 |!$omp  parallel do
         68 |      DO J=1,JM
         69 |      DO I=1,IM
         70 |        FNE   (I,J)=0.0
         71 |        FSE   (I,J)=0.0
         72 |        WFIELD(I,J)=0.0
         73 |      ENDDO
         74 |      ENDDO
         75 |C
         76 |C        2-ND ORDER DIAGONAL CONTRIBUTIONS
         77 |C
         78 |!$omp  parallel do
         79 |      DO J=1,JM-1
         80 |      DO I=1,IM-1
         81 |        FNE(I,J)=FIELD(I+IHE(J),J+1)-FIELD(I,J)
         82 |      ENDDO
         83 |      ENDDO
         84 |C
         85 |!$omp  parallel do
         86 |      DO J=2,JM
         87 |      DO I=1,IM-1
         88 |        FSE(I,J)=FIELD(I+IHE(J),J-1)-FIELD(I,J)
         89 |      ENDDO
         90 |      ENDDO
         91 |C
         92 |!$omp  parallel do
         93 |      DO J=3,JM-2
         94 |      DO I=2,IM-1
         95 |        WFIELD(I,J)=(FNE(I,J)-FNE(I+IHW(J),J-1)
         96 |     1           +FSE(I,J)-FSE(I+IHW(J),J+1))*HBM2(I,J)*0.125
         97 |      ENDDO
         98 |      ENDDO
         99 |C
        100 |C     4-TH ORDER DIAGONAL CONTRIBUTIONS
        101 |C
        102 |!$omp  parallel do
        103 |      DO J=1,JM-1
        104 |      DO I=1,IM-1
        105 |        FNE(I,J)=WFIELD(I+IHE(J),J+1)-WFIELD(I,J)
        106 |      ENDDO
        107 |      ENDDO
        108 |C
        109 |!$omp  parallel do
        110 |      DO J=2,JM
        111 |      DO I=1,IM-1
        112 |        FSE(I,J)=WFIELD(I+IHE(J),J-1)-WFIELD(I,J)
        113 |      ENDDO
        114 |      ENDDO
        115 |C
        116 |!$omp  parallel do
        117 |      DO J=3,JM-2
        118 |      DO I=2,IM-1
        119 |        FIELD(I,J)=FIELD(I,J)-(FNE(I,J)-FNE(I+IHW(J),J-1)
        120 |     1                        +FSE(I,J)-FSE(I+IHW(J),J+1))
        121 |     2                        *HBM2(I,J)*0.125
        122 |      ENDDO
        123 |      ENDDO
        124 |C
        125 | 400  CONTINUE
        126 |C
        127 |C     END OF ROUTINE
        128 |      RETURN
        129 |      END
 
>>>>> ATTRIBUTE AND CROSS REFERENCE SECTION <<<<<
 
 
 
IDENTIFIER NAME                  CROSS REFERENCE AND ATTRIBUTES
 
field                            Reference argument, Real(4) (1:89, 1:143), Offset: 0, Alignment: full word
                                 0-52.20$  0-1.38  0-81.18  0-81.38  0-88.18  0-88.38  0-119.9@  0-119.20
 
fne                              Static, Real(4) (1:89, 1:143), Offset: 0, Alignment: full word
                                 0-52.47$  0-70.9@  0-81.9@  0-95.22  0-95.31  0-105.9@  0-119.32  0-119.41
 
fse                              Static, Real(4) (1:89, 1:143), Offset: 0, Alignment: full word
                                 0-52.58$  0-71.9@  0-88.9@  0-96.19  0-96.28  0-112.9@  0-120.32  0-120.41
 
hbm2                             Reference argument, Real(4) (1:89, 1:143), Offset: 0, Alignment: full word
                                 0-52.8$  0-1.33  0-96.47  0-121.32
 
i                                Static, Integer(4), Offset: 0, Alignment: full word
                                 0-69.10@  0-70.16  0-71.16  0-72.16  0-80.10@  0-81.13  0-81.24  0-81.44  0-87.10@  0-88.13
                                 0-88.24  0-88.44  0-94.10@  0-95.16  0-95.26  0-95.35  0-96.23  0-96.32  0-96.52  0-104.10@
                                 0-105.13  0-105.25  0-105.46  0-111.10@  0-112.13  0-112.25  0-112.46  0-118.10@  0-119.15
                                 0-119.26  0-119.36  0-119.45  0-120.36  0-120.45  0-121.37
 
idim1                            Parameter, Integer(4)
                                 1-14.17$
 
idim2                            Parameter, Integer(4)
                                 1-14.29$
 
igstl                            Parameter, Integer(4)
                                 1-9.17$  1-14.23
 
igstr                            Parameter, Integer(4)
                                 1-9.26$  1-14.44
 
ihe                              Common member, Integer(4) (1:143), Offset: 0, Alignment: quadruple word
                                 2-3.8$  0-81.26  0-88.26  0-105.27  0-112.27
 
ihw                              Common member, Integer(4) (1:143), Offset: 572, Alignment: full word
                                 2-3.16$  0-95.37  0-96.34  0-119.47  0-120.47
 
im                               Parameter, Integer(4)
                                 1-3.18$  0-52.13  0-52.26  0-52.40  0-52.51  0-52.62  0-69.14  0-80.14  0-87.14  0-94.14  0-104.14
                                 0-111.14  0-118.14  1-11.23  1-11.34  1-14.35
 
indx                             Common Block, Alignment: double word
                                 2-2.38$
 
inpes                            Parameter, Integer(4)
                                 1-6.17$  1-11.27  1-11.37  1-14.38
 
itail                            Parameter, Integer(4)
                                 1-11.17$
 
ive                              Common member, Integer(4) (1:143), Offset: 1144, Alignment: double word
                                 2-3.24$
 
ivw                              Common member, Integer(4) (1:143), Offset: 1716, Alignment: full word
                                 2-3.32$
 
j                                Static, Integer(4), Offset: 0, Alignment: full word
                                 0-68.10@  0-70.18  0-71.18  0-72.18  0-79.10@  0-81.15  0-81.30  0-81.33  0-81.46  0-86.10@
                                 0-88.15  0-88.30  0-88.33  0-88.46  0-93.10@  0-95.18  0-95.28  0-95.41  0-95.44  0-96.25  0-96.38
                                 0-96.41  0-96.54  0-103.10@  0-105.15  0-105.31  0-105.34  0-105.48  0-110.10@  0-112.15  0-112.31
                                 0-112.34  0-112.48  0-117.10@  0-119.17  0-119.28  0-119.38  0-119.51  0-119.54  0-120.38  0-120.51
                                 0-120.54  0-121.39
 
jdim1                            Parameter, Integer(4)
                                 1-15.17$
 
jdim2                            Parameter, Integer(4)
                                 1-15.29$
 
jgstl                            Parameter, Integer(4)
                                 1-10.17$  1-15.23
 
jgstr                            Parameter, Integer(4)
                                 1-10.26$  1-15.44
 
jm                               Parameter, Integer(4)
                                 1-3.24$  0-52.16  0-52.29  0-52.43  0-52.54  0-52.65  0-68.14  0-79.14  0-86.14  0-93.14  0-103.14
                                 0-110.14  0-117.14  1-12.23  1-12.34  1-15.35  2-3.12  2-3.20  2-3.28  2-3.36
 
jnpes                            Parameter, Integer(4)
                                 1-6.25$  1-12.27  1-12.37  1-15.38
 
jtail                            Parameter, Integer(4)
                                 1-12.17$
 
kount                            Static, Integer(4), Offset: 0, Alignment: full word
                                 0-63.14@
 
lm                               Parameter, Integer(4)
                                 1-3.31$
 
lsm                              Parameter, Integer(4)
                                 1-3.37$
 
mkount                           Reference argument, Integer(4), Offset: 0, Alignment: full word
                                 0-1.26  0-59.10  0-63.22
 
p2filtf                          Subroutine
                                 0-1.18$
 
wfield                           Static, Real(4) (1:89, 1:143), Offset: 0, Alignment: full word
                                 0-52.33$  0-72.9@  0-95.9@  0-105.18  0-105.39  0-112.18  0-112.39
 
** p2filtf   === End of Compilation 1 ===
 
>>>>> FILE TABLE SECTION <<<<<
 
 
                                       FILE CREATION        FROM
FILE NO   FILENAME                    DATE       TIME       FILE    LINE
     0    P2FILTF.f                   12/18/08   11:40:51
     1    /gpfs/c/nco/ops/nwprod/sorc/hiresw_post_hls.fd/parmeta
                                      12/18/08   11:40:52      0      47
     2    /gpfs/c/nco/ops/nwprod/sorc/hiresw_post_hls.fd/INDX.comm
                                      12/18/08   11:40:51      0      49
 
 
>>>>> COMPILATION EPILOGUE SECTION <<<<<
 
 
FORTRAN Summary of Diagnosed Conditions
 
TOTAL   UNRECOVERABLE  SEVERE       ERROR     WARNING    INFORMATIONAL
               (U)       (S)         (E)        (W)          (I)
    0           0         0           0          0            0
 
 
    Source records read.......................................     150
1501-510  Compilation successful for file P2FILTF.f.
1501-543  Object file created.
